<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Вопросы</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets_files/favicon.png" type="image/x-icon">

    <link type="text/css" href="../assets_files/style.css" rel="stylesheet">

</head>

<body >
  <div class="div-main">


<!-- Вопросы -->

    <div id="questions_box" class="questions_box">
       
        <div id="progress" class="progress" style="margin-top: 20px;"></div>
        <div id="counter" class="counter" style="margin-top:16px" ></div>
        
        <div class="step" data-step="1">
            <img src="../img/1.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Используете ли вы VPN или безопасный просмотр для безопасного подключения?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
<div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div> 
        </div>
        </div>
        <div class="step" data-step="2">
            <img src="../img/2.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Вы давно проверяли актуальность ОС?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
<div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div> 
        </div>
        </div>
        <div class="step" data-step="3">
            <img src="../img/3.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Вы защищаете личные фотографии в секретной папке?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
            <div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div>
 
        </div>
        </div>
        <div class="step" data-step="4">
            <img src="../img/4.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Вы уже заблокировали надоедливую рекламу?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
<div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div> 
        </div>
        </div>
        <div class="step" data-step="5">
            <img src="../img/5.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Вы проверили IP, скорость и другую информацию об устройстве?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
<div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div> 
        </div>
        </div>
        <div class="step" data-step="6">
            <img src="../img/6.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Вы проверяете, кто может шпионить за вашим местоположением?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
<div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div> 
        </div>
        </div>
        <div class="step" data-step="7">
            <img src="../img/7.png" alt="" style="margin-top: 30%;">
            <h2 style="font-size: 24px;">Вы уже почистили хранилище от хлама?</h2>
            <div class="" style="display: flex;justify-content: space-around;">

            
            <div class="answer-btn" style="box-shadow: 0px 0px 12px 2px #B200F0; width: 215px;">ДА</div>
<div class="answer-btn" style="width: 95px; border: 2px solid #A75AC5; border-radius: 15px; background: none; color: #A75AC5;">
                <span style="position: relative; left: -1px;">НЕТ</span>
                </div> 
        </div>
        </div>
        <div id="result-box">
            
            <div class="check_box" >
                <div id="check_box">
                <img class="load" src="../assets_files/load_1.gif" alt="">
                <h2>Анализ <br> ваших ответов</h2>
                <div class="check_line">

                    <div class="check_no" id="res1_no">
                        <img src="../img/no_check.png" alt="">
                        <div>Выбор лучшего решения для вашей защиты в Интернете на основе ваших ответов</div>
                    </div>
                    <div class="check_yes" id="res1_yes">
                        <img src="../img/check.png" alt="">
                        <div>Выбор лучшего решения для вашей защиты в Интернете на основе ваших ответов</div>
                    </div>
                    <div class="check_no" id="res2_no">
                        <img src="../img/no_check.png" alt="">
                        <div>Персонализация шагов для достижения ваших целей</div>
                    </div>
                    <div class="check_yes" id="res2_yes">
                        <img src="../img/check.png" alt="">
                        <div>Персонализация шагов для достижения ваших целей</div>
                    </div>
                    <div class="check_no" id="res3_no">
                        <img src="../img/no_check.png" alt="">
                        <div>Подготовка ваших личных функций безопасности и напоминаний</div>
                    </div>
                    <div class="check_yes" id="res3_yes">
                        <img src="../img/check.png" alt="">
                        <div>Подготовка ваших личных функций безопасности и напоминаний</div>
                    </div>
                    <div class="check_no" id="res4_no">
                        <img src="../img/no_check.png" alt="">
                        <div>Создание учетной записи</div>
                    </div>
                    <div class="check_yes" id="res4_yes">
                        <img src="../img/check.png" alt="">
                        <div>Создание учетной записи</div>
                    </div>
                </div>

                
                
            </div>
            <div id="emeil">
                
                
                <form class="form" action="javascript:void(0)" >
                    <h3>Введите свой адрес электронной почты, чтобы получить результаты в несколько шагов:</h3>
                        <input type="email" class="email" autocomplete="email" autocapitalize="none" type="email" inputmode="email" placeholder="example@gmail.com" style="width: 98%;">
                        <div style="height: 50px;">
                            <span class="eerror"></span>
                        </div>
                       
                     
                    <button  type="submit" class="btn-submit butt" style="width: 100%;">Продолжить</button>
                  </form>

            
            </div>
        </div>
        </div>
      

    </div>
    
</div>

<!-- Скрипт работы  -->
<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <script>
        ; (function () {
            let questionBox = document.getElementById('questions_box'),
                resultBox = document.getElementById('result-box'),
                progress1= document.getElementById('progress'),
                counter = document.getElementById('counter'),
                progressBar = document.getElementById('progress'),
                steps = questionBox.getElementsByClassName('step'),
                check_box = document.getElementById('check_box'),
                res1_no=document.getElementById('res1_no'),
                res2_no=document.getElementById('res2_no'),
                res3_no=document.getElementById('res3_no'),
                res4_no=document.getElementById('res4_no'),
                res1_yes=document.getElementById('res1_yes'),
                res2_yes=document.getElementById('res2_yes'),
                res3_yes=document.getElementById('res3_yes'),
                res4_yes=document.getElementById('res4_yes'),
                emeil=document.getElementById('emeil'),
                
                
                currentStep = 0,
                progress;
                
            res1_yes.style.display = 'none';  
            res2_yes.style.display = 'none'; 
            res3_yes.style.display = 'none'; 
            res4_yes.style.display = 'none'; 
            
            function questionCounter(el, quant, num) {
                el.innerHTML = '<span></span>' +  num + '<span class="quantity"> / ' + quant + '</span>'
            }
            function questionProgress(el, quant, num) {
                if (!progress) progress = el.appendChild(document.createElement('span'));
                progress.style.right = 100 - (100 / quant * num) + '%';
            }
            for (let i = 0; i < steps.length; i++) {
                steps[i].addEventListener('click', function (e) {
                    if (e.target.classList.contains('answer-btn')
                        && e.currentTarget.dataset.step !== currentStep) {
                        currentStep = e.currentTarget.dataset.step;
                        questionProgress(progressBar, steps.length, currentStep);
                        questionCounter(counter, steps.length, currentStep);
                        e.currentTarget.style.display = 'none';
                        if (steps[currentStep]) {
                            steps[currentStep].style.display = 'block';
                        }
                        else {
                            
                            resultBox.style.display = 'block';
                            setTimeout(function(){
                            res1_no.style.display = 'none';  
                            res1_yes.style.display = 'flex'; 

                            },1000)
                            setTimeout(function(){
                            res2_no.style.display = 'none';  
                            res2_yes.style.display = 'flex'; 

                            },2000)
                            setTimeout(function(){
                            res3_no.style.display = 'none';  
                            res3_yes.style.display = 'flex'; 

                            },3000)
                            setTimeout(function(){
                            res4_no.style.display = 'none';  
                            res4_yes.style.display = 'flex'; 

                            },4000)
                             
                            let timer = setTimeout(function () {
                                
                                    
                                check_box.style.display = 'none'; 
                                emeil.style.display = 'flex'; 
                                

                                
                            }, 6000);
                        }
                    }
                })
            }
            steps[currentStep].style.display = 'block';
            questionProgress(progressBar, steps.length, currentStep);
            questionCounter(counter, steps.length, currentStep);
        })();

        $(function() {
  $(".btn-submit").on("click", validate);
 
  // Validate email
  function validateEmail(email) {
    var re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;
    return re.test(String(email).toLowerCase());
  }
   
  // send form
  function sendForm() {
    setTimeout(function(){
        
        window.location.href = "./land.html"

                            },1000)
    
  }
 
  // validate email and send form after success validation
  function validate() {
    var email = $(".email").val();
    var $error = $(".eerror");
    $error.text("");
 
    if (validateEmail(email)) {
      $error.fadeOut();
      sendForm();
    } else {
      $error.fadeIn();
      $error.text('Ошибка ввода. Введите типу "yourname@email.com"');
    }
    return false;
  }
});
    </script>

</body>

</html>